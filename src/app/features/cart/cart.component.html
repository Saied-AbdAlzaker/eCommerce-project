<section class="bg-gray-200 p-4">
    <div class="w-[95%] mx-auto grid items-start sm:grid-cols-12 gap-10">
        <div class="col-span-8 rounded-lg shadow p-4">
            <div class="flex items-center justify-between space-x-4">
                <div>
                    <h2 class="text-2xl">Cart</h2>
                    <span class="text-orange-800">{{cartList.products?.length}} Items</span>
                </div>
                <button (click)="clearCart()" class="cursor-pointer hover:text-red-800">
                    Clear <i class="fas fa-trash-can"></i>
                </button>
            </div>

            @for (cart of cartList.products; track cart._id) {
            <div class="grid sm:grid-cols-12 bg-white p-4 shadow my-2 border-b rounded-lg space-x-4">
                <div class="col-span-1">
                    <img [src]="cart.product.imageCover" class="w-full" [alt]="cart.product.title">
                </div>
                <div class="col-span-11 flex justify-between items-center">
                    <div>
                        <h3>Totle: {{cart.product.title}}</h3>
                        <div class="flex items-center space-x-6">
                            <div class="bg-gray-300 rounded-lg items-center space-x-4 py-1 px-2 border">
                                <button (click)="updateCartItem(cart.product._id,cart.count - 1)"
                                    class="cursor-pointer hover:text-blue-600"><i class="fas fa-minus"></i></button>
                                <span class="hover:text-blue-600">{{cart.count}}</span>
                                <button (click)="updateCartItem(cart.product._id,cart.count + 1)"
                                    class="cursor-pointer hover:text-blue-600"><i class="fas fa-plus"></i></button>
                            </div>
                            <button (click)="removeCartItem(cart.product._id)" class="cursor-pointer"><i
                                    class="fas fa-trash-can hover:text-red-800"></i></button>
                        </div>
                    </div>
                    <span>{{cart.price * cart.count}} EGP</span>
                </div>
            </div>
            }
        </div>

        <div class="col-span-4 bg-white rounded-lg shadow p-4">
            <h2 class="text-2xl">Order Summary</h2>
            <div class="flex justify-between items-center my-4">
                <h3>Price</h3>
                <h4>{{cartList.totalCartPrice}} EGP</h4>
            </div>

            <button [routerLink]="['/checkout',cartList._id]" class="btn">Proceed to checkout</button>
        </div>
    </div>
</section>