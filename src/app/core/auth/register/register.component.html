<section class="shadow-lg rounded-2xl max-w-2xl mx-auto my-3 p-5">
    <h3 class="text-2xl font-semibold mb-2 text-blue-600 text-center">{{'auth.signupForm'|translate}}</h3>
    <form [formGroup]="registerForm" (ngSubmit)="submitForm()">
        <app-input [control]="registerForm.get('name')" [idInput]="'name'" [typeInput]="'text'"
            [labelInput]="this.translate.instant('register.name')"></app-input>

        <app-input [control]="registerForm.get('email')" [idInput]="'email'" [typeInput]="'email'"
            [labelInput]="this.translate.instant('register.email')"></app-input>

        <app-input [control]="registerForm.get('password')" [idInput]="'password'" [labelInput]="this.translate.instant('register.password')">
            {{'register.valid-password' |translate}}
        </app-input>

        <app-input [control]="registerForm.get('rePassword')" [idInput]="'rePassword'"
            [labelInput]="this.translate.instant('register.confirm')"></app-input>

        <app-input [control]="registerForm.get('phone')" [idInput]="'phone'" 
        [typeInput]="'tel'" [labelInput]="this.translate.instant('register.phone')">
            {{'register.valid-phone' |translate}}
        </app-input>

        <div class="flex justify-between">
            <span>{{'register.account'|translate}}
                <a routerLink="/login" class="underline text-blue-600">
                    {{'login.login'|translate}}
                </a>
            </span>
            <button type="submit" class="btn w-[20%]">
                @if (loading) {
                <i class="fa fa-spin fa-spinner"></i>
                } @else{
                 {{'register.register'|translate}}
                }
            </button>
        </div>
        @if (msgError) {
        <p class="text-red-600 p-2 mt-2 text-center">{{msgError}}</p>
        }
    </form>
</section>

<!-- 
<div class="relative z-0 w-full mb-5 group">
            @let nameControl = registerForm.get('name');
            <div class="relative">
                <input type="text" formControlName="name" name="name" id="name" class="input-style peer" placeholder=" "
                    required [class]="{
                    'border-green-600':nameControl?.valid,
                    'border-red-600':nameControl?.invalid && nameControl?.touched
                }" />
                <span class="absolute top-1/2 end-4 -translate-y-1/2 cursor-pointer">
                    <i class="fa-solid fa-user text-green-600"></i>
                </span>
            </div>
            <label for="name" class="label-style" [class]="{
                    'text-green-600':nameControl?.valid,
                    'text-red-600':nameControl?.invalid && nameControl?.touched
                }">Name</label>
            @if (nameControl?.errors && nameControl?.touched) {
            <div class="p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400"
                role="alert">
                @if (nameControl?.getError('required')) {
                <span class="font-medium">Input is required.</span>
                } @else if (nameControl?.getError('minlength')) {
                <span class="font-medium">Input should be more than or equal 3 character.</span>
                } @else if (nameControl?.getError('maxlength')) {
                <span class="font-medium">Input should be less than or equal 20 character.</span>
                }

            </div>
            }
        </div>
        <div class="relative z-0 w-full mb-5 group">
            @let emailControl = registerForm.get('email');
            <div class="relative">
                <input type="email" formControlName="email" name="email" id="email" class="input-style peer"
                    placeholder=" " required [class]="{
                    'border-green-600':emailControl?.valid,
                    'border-red-600':emailControl?.invalid && emailControl?.touched
                }" />
                <span class="absolute top-1/2 end-4 -translate-y-1/2 cursor-pointer">
                    <i class="fa-solid fa-envelope text-green-600"></i>
                </span>
            </div>
            <label for="email" class="label-style" [class]="{
                    'text-green-600':emailControl?.valid,
                    'text-red-600':emailControl?.invalid && emailControl?.touched
                }">Email</label>
            @if (emailControl?.errors && emailControl?.touched) {
            <div class="p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400"
                role="alert">
                @if (emailControl?.getError('required')) {
                <span class="font-medium">Input is required.</span>
                } @else if (emailControl?.getError('email')) {
                <span class="font-medium">Please enter a valid email address.</span>
                }
            </div>
            }
        </div>
        <div class="relative z-0 w-full mb-5 group">
            @let passwordControl = registerForm.get('password');
            <div class="relative">
                <input [type]="hidePassword?'password':'text'" formControlName="password" name="password" id="password"
                    class="input-style peer" placeholder=" " required [class]="{
                    'border-green-600':passwordControl?.valid,
                    'border-red-600':passwordControl?.invalid && passwordControl?.touched
                }" />
                <span (click)="hidePassword = !hidePassword"
                    class="absolute top-1/2 end-4 -translate-y-1/2 cursor-pointer">
                    @if (hidePassword) {
                    <i class="fa-solid fa-eye text-green-600"></i>
                    }@else {
                    <i class="fa-solid fa-eye-slash text-green-600"></i>
                    }
                </span>
            </div>
            <label for="password" class="label-style" [class]="{
                    'text-green-600':passwordControl?.valid,
                    'text-red-600':passwordControl?.invalid && passwordControl?.touched
                }">Password</label>
            @if (passwordControl?.errors && passwordControl?.touched) {
            <div class="p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400"
                role="alert">
                @if (passwordControl?.getError('required')) {
                <span class="font-medium">Input is required.</span>
                } @else if (passwordControl?.getError('pattern')) {
                <span class="font-medium">Please enter a valid password.</span>
                }
            </div>
            }
        </div>
        <div class="relative z-0 w-full mb-5 group">
            @let rePasswordControl = registerForm.get('rePassword');
            <div class="relative">
                <input [type]="hideRePassword?'password':'text'" formControlName="rePassword" name="repeat_password"
                    id="repeat_password" class="input-style peer" placeholder=" " required [class]="{
                    'border-green-600':rePasswordControl?.valid,
                    'border-red-600':rePasswordControl?.invalid && rePasswordControl?.touched
                }" />
                <span (click)="hideRePassword = !hideRePassword"
                    class="absolute top-1/2 end-4 -translate-y-1/2 cursor-pointer">
                    @if (hideRePassword) {
                    <i class="fa-solid fa-eye text-green-600"></i>
                    }@else {
                    <i class="fa-solid fa-eye-slash text-green-600"></i>
                    }
                </span>
            </div>
            <label for="repeat_password" class="label-style" [class]="{
                    'text-green-600':rePasswordControl?.valid,
                    'text-red-600':rePasswordControl?.invalid && rePasswordControl?.touched
                }">Confirm password</label>
            @if (registerForm.getError('mismatch') && rePasswordControl?.touched) {
            <div class="p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400"
                role="alert">
                <span class="font-medium">Password confirmation is incorrect.</span>
            </div>
            }
        </div>
        <div class="grid md:grid-cols-2 md:gap-6">
            @let phoneControl = registerForm.get('phone');
            <div class="relative z-0 w-full mb-5 group">
                <div class="relative">
                    <input type="tel" formControlName="phone" name="phone" id="phone" class="input-style peer"
                        placeholder=" " required [class]="{
                    'border-green-600':phoneControl?.valid,
                    'border-red-600':phoneControl?.invalid && phoneControl?.touched
                }" />
                    <span class="absolute top-1/2 end-4 -translate-y-1/2 cursor-pointer">
                        <i class="fa-solid fa-phone text-green-600"></i>
                    </span>
                </div>
                <label for="phone" class="label-style" [class]="{
                    'text-green-600':phoneControl?.valid,
                    'text-red-600':phoneControl?.invalid && phoneControl?.touched
                }">Phone number</label>
                @if (phoneControl?.errors && phoneControl?.touched) {
                <div class="p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400"
                    role="alert">
                    @if (phoneControl?.getError('required')) {
                    <span class="font-medium">Input is required.</span>
                    } @else if (phoneControl?.getError('pattern')) {
                    <span class="font-medium">Please enter a valid phone egypt.</span>
                    }
                </div>
                }
            </div>
        </div> -->